{% extends 'index.html' %}

{% block title %}
    <div class="container" align="center">
      <div class="jumbotron">
        <h1>Welcome to Sudoku Solver</h1>
        <p>{{ description }}</p>
      </div>
    </div>
    <br>
{% endblock %}

{% block body %}
  <div class="container" align="center">
    <div class="alert alert-dark d-inline-block mt-3">
        <h4 class="mb-0">Time: <span id="timer">00:00</span></h4>
    </div>
{#    <form method="POST" id="sudoku-form">#}
{#        <input type="hidden" name="time_taken" id="time_taken_input" value="0">#}
{#        {% csrf_token %}#}
{#        {% include 'insert.html' %}#}
{##}
{#        <div class="mt-3">#}
{#            <a href="{% url 'solved' id=id %}" class="btn btn-primary btn-lg">Solve Board</a>#}
{#        </div>#}
{#    </form>#}
    <form method="POST">
        {% csrf_token %}
        <input type="hidden" name="time_taken" id="time_taken_input" value="0">

        {% include 'insert.html' %}

        <div class="mt-4">
            <button type="submit" formaction="{% url 'check_solution' id=id %}" class="btn btn-warning">
                Check My Work
            </button>

            <a href="{% url 'solved' id=id %}" class="btn btn-primary">
                Give Me Solution
            </a>
        </div>
    </form>
  </div>

    <script>
        let seconds = 0;
        let timerDisplay = document.getElementById('timer');

        function updateTimer() {
            seconds++;
            let mins = Math.floor(seconds / 60);
            let secs = seconds % 60;
            let displayMins = mins < 10 ? '0' + mins : mins;
            let displaySecs = secs < 10 ? '0' + secs : secs;

            timerDisplay.innerText = displayMins + ":" + displaySecs;
        }
        setInterval(updateTimer, 1000);
    </script>
{% endblock %}